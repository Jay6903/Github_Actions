name: Load Testing Workflow

  schedule: 
    - cron: '0 0 1 */3' # Runs every day at midnight UTC
  push:

jobs:
    load-test:
      runs-on: ubuntu-latest
      steps:
        - name: Checkout code
          uses: actions/checkout@v2

        - name: Install Dependencies
          uses: pip install -r requirements.txt

        - name: Run load test
          run: locust -f load_test.py --headless --users 50 --spawn-rate 10 --host https://jsonplaceholder.typicode.com --run-time 4s